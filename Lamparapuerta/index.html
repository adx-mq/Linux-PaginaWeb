<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>Oso enojado | Luz con cordón</title>

<link rel="stylesheet" href="style.css">
<style>
  body {
    margin: 0;
    background: var(--bg, #2a2a2a);
    transition: background 0.3s;
    height: 100vh;
    display: flex;
    justify-content: center;
    align-items: center;
  }

  :root {
    --on: 0;
  }

  .scene {
    position: relative;
    width: 380px;
    height: 500px;
  }

  .toggle-scene__hit-spot {
    position: absolute;
    width: 80px;
    height: 160px;
    top: 100px;
    left: 150px;
    cursor: grab;
    z-index: 10;
    background: rgba(255,0,0,0); /* invisible */
  }

  svg {
    overflow: visible;
  }

  /* Luz */
  .bulb {
    filter: drop-shadow(0 0 calc(40px * var(--on)) gold);
    transition: filter 0.3s;
  }

  /* Cuando está prendida */
  html {
    --bg: color-mix(in srgb, #fff  var(--on), #2a2a2a calc(100% - var(--on)));
  }

</style>
</head>
<body>

<div class="scene">

  <!-- INPUT QUE USA EL JS -->
  <input id="light-mode" type="checkbox" style="display:none">

  <!-- HIT-SPOT (LO QUE SE JALA) -->
  <div class="toggle-scene__hit-spot"></div>

  <!-- FOCO + CORDÓN -->
  <svg width="100%" height="100%" class="toggle-scene">
    <!-- foco -->
    <circle cx="190" cy="80" r="25" fill="yellow" class="bulb"></circle>

    <!-- CORD REAL (se anima con morphSVG) -->
    <g class="toggle-scene__cord" style="display:none">
      <line x1="190" y1="110" x2="190" y2="180" stroke="#fff" stroke-width="5" stroke-linecap="round"/>
    </g>

    <!-- Variantes del cordón para la animación -->
    <g class="toggle-scene__cord">
      <line x1="190" y1="110" x2="190" y2="220" stroke="#fff" stroke-width="5" stroke-linecap="round"/>
    </g>

    <g class="toggle-scene__cord">
      <line x1="190" y1="110" x2="170" y2="230" stroke="#fff" stroke-width="5" stroke-linecap="round"/>
    </g>

    <g class="toggle-scene__cord">
      <line x1="190" y1="110" x2="210" y2="230" stroke="#fff" stroke-width="5" stroke-linecap="round"/>
    </g>

    <g class="toggle-scene__cord">
      <line x1="190" y1="110" x2="160" y2="200" stroke="#fff" stroke-width="5" stroke-linecap="round"/>
    </g>

    <g class="toggle-scene__cord">
      <line x1="190" y1="110" x2="220" y2="200" stroke="#fff" stroke-width="5" stroke-linecap="round"/>
    </g>

    <!-- Dummy cordón que se arrastra -->
    <g class="toggle-scene__dummy-cord">
      <line x1="190" y1="110" x2="190" y2="180" stroke="#ccc" stroke-width="5" stroke-linecap="round"/>
    </g>

    <!-- PUERTA -->
    <rect class="door" x="20" y="200" width="120" height="200" fill="#6a4c2c" rx="6" />

    <!-- OSO ENOJADO (Escandalosos) -->
    <g class="bear" transform="translate(220,240) scale(1.2)" style="display:block">

      <!-- cuerpo -->
      <ellipse cx="0" cy="40" rx="45" ry="55" fill="#5a3e2b"/>

      <!-- cabeza -->
      <circle cx="0" cy="0" r="40" fill="#5a3e2b"/>

      <!-- orejas -->
      <circle cx="-25" cy="-35" r="15" fill="#5a3e2b"/>
      <circle cx="25" cy="-35" r="15" fill="#5a3e2b"/>

      <!-- cara -->
      <circle cx="0" cy="-5" r="18" fill="#ffffff"/>
      <circle cx="-8" cy="-5" r="6" fill="#000"/>
      <circle cx="8" cy="-5" r="6" fill="#000"/>
      <rect x="-10" y="8" width="20" height="10" rx="5" fill="#000"/>

      <!-- cejas ENOJADAS -->
      <rect class="bear__brows" x="-16" y="-18" width="18" height="5" fill="#000" transform="rotate(20)" />
      <rect class="bear__brows" x="-2" y="-18" width="18" height="5" fill="#000" transform="rotate(-20)" />

      <!-- brazos -->
      <rect class="bear__arm" x="-55" y="20" width="35" height="20" rx="10" fill="#5a3e2b"/>
      <rect class="bear__arm" x="20" y="20" width="35" height="20" rx="10" fill="#5a3e2b"/>

      <!-- pata / garrita -->
      <circle class="bear__paw" cx="-10" cy="30" r="10" fill="#5a3e2b"/>
      <circle id="knuckles" cx="-10" cy="30" r="5" fill="#3d2b20"/>

    </g>

  </svg>
</div>

<script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/gsap.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/MorphSVGPlugin.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/Draggable.min.js"></script>

<script src="script.js"></script>

</body>
</html>
